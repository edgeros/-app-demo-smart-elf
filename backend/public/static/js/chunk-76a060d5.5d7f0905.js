(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76a060d5"],{1148:function(t,e,i){"use strict";var n=i("a691"),r=i("577e"),o=i("1d80");t.exports=function(t){var e=r(o(this)),i="",a=n(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(i+=e);return i}},"408a":function(t,e,i){var n=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"902b":function(t,e,i){},b680:function(t,e,i){"use strict";var n=i("23e7"),r=i("a691"),o=i("408a"),a=i("1148"),s=i("d039"),c=1..toFixed,u=Math.floor,l=function(t,e,i){return 0===e?i:e%2===1?l(t,e-1,i*t):l(t*t,e/2,i)},d=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},v=function(t,e,i){var n=-1,r=i;while(++n<6)r+=e*t[n],t[n]=r%1e7,r=u(r/1e7)},f=function(t,e){var i=6,n=0;while(--i>=0)n+=t[i],t[i]=u(n/e),n=n%e*1e7},h=function(t){var e=6,i="";while(--e>=0)if(""!==i||0===e||0!==t[e]){var n=String(t[e]);i=""===i?n:i+a.call("0",7-n.length)+n}return i},g=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));n({target:"Number",proto:!0,forced:g},{toFixed:function(t){var e,i,n,s,c=o(this),u=r(t),g=[0,0,0,0,0,0],p="",b="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(e=d(c*l(2,69,1))-69,i=e<0?c*l(2,-e,1):c/l(2,e,1),i*=4503599627370496,e=52-e,e>0){v(g,0,i),n=u;while(n>=7)v(g,1e7,0),n-=7;v(g,l(10,n,1),0),n=e-1;while(n>=23)f(g,1<<23),n-=23;f(g,1<<n),v(g,1,1),f(g,2),b=h(g)}else v(g,0,i),v(g,1<<-e,0),b=h(g)+a.call("0",u);return u>0?(s=b.length,b=p+(s<=u?"0."+a.call("0",u-s)+b:b.slice(0,s-u)+"."+b.slice(s-u))):b=p+b,b}})},eef1:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about"},[i("van-nav-bar",{attrs:{title:"ZDDC","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._m(0),i("div",{staticStyle:{"padding-top":"1rem"}},[i("van-cell-group",[i("van-cell",{attrs:{title:"开发板电压",value:t.voltage+"V"}}),i("van-cell",{attrs:{title:"是否有人"}},[[i("div",{staticClass:"light",style:t.person?"background:chartreuse":"background:#eee"})]],2),i("van-cell",{attrs:{title:"是否光照"}},[[i("div",{staticClass:"light",style:t.light?"background:chartreuse":"background:#eee"})]],2),i("van-cell",{attrs:{title:"已上报次数",value:t.count}})],1)],1),i("div",{staticClass:"resetBtn"},[i("van-button",{attrs:{type:"primary",size:"large"},on:{click:t.resetCount}},[t._v(" 重置上报次数 ")])],1),i("van-overlay",{attrs:{show:t.show}},[i("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[i("van-loading",[t._v("等待第一次数据上报")])],1)])],1)},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"text-align":"center","padding-top":"1rem"}},[i("h2",[t._v("人体红外感知精灵")])])}],o=(i("b680"),{data:function(){return{show:!0,voltage:0,person:!1,light:!1,count:0}},mounted:function(){var t=this;this.axios.get("/api/connect",{params:{devid:this.$route.query.devid}}).then((function(e){console.log("连接成功:devid",t.$route.query.devid)})),this.sockets.subscribe("zddc",(function(e){t.show=!1;var i=JSON.parse(e);"mem0"in i&&(t.count=i.mem0),"dio2"in i&&(t.light=i.dio2),"dio1"in i&&(t.person=i.dio1),"aio0"in i&&(t.voltage=i.aio0.toFixed(2))}))},methods:{resetCount:function(t){var e=this;this.axios.post("/api/sendMsg",{data:{devid:this.$route.query.devid,msg:{mem0:0}}}).then((function(t){e.count=0}))},onClickLeft:function(){var t=this;this.show=!0,this.axios.get("/api/disconnect",{params:{devid:this.$route.query.devid}}).then((function(e){t.sockets.unsubscribe("zddc"),t.show=!1,history.back()}))}}}),a=o,s=(i("f093"),i("2877")),c=Object(s["a"])(a,n,r,!1,null,"2011329b",null);e["default"]=c.exports},f093:function(t,e,i){"use strict";i("902b")}}]);